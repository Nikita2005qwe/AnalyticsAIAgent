ID;Требование;Источник;Категория
FR-01;Система должна позволять вручную заполнять форму создания ТТ в GUI: владелец, адрес, район маршрута тп;US1.1, T1.1;Ввод данных
FR-02;Система должна заполнять форму в CRM через Selenium, используя данные из GUI или AI-чата;US1.2, T1.2;Автоматизация
FR-03;Система должна запускать процесс в фоне (без блокировки GUI);US1.3, T1.4;Производительность
FR-04;Система должна уведомлять пользователя о завершении процесса (успех/ошибка);US1.4, T1.5;UX
FR-05;Система должна логировать все операции и ошибки в файл logs/app.log и в PostgreSQL;US1.5, T1.6;Прозрачность
FR-06;AI должен предсказывать атрибуты ТТ (вид, ассортимент, площадь, местоположение) на основе истории созданных точек;US1.6, T1.12;AI-логика
FR-07;AI должен уточнять недостающие данные (например, ESR, адрес) до запуска процесса через диалог в чате;US1.7, US3.2;AI-взаимодействие
FR-08;AI должен сохранять новые пары region_code → esr_code в PostgreSQL при ручном указании;US1.8, T1.8;Хранение данных
FR-09;AI должен формировать JSON с данными о списке ТТ к сзданию на основе текстового запроса в чате;US1.9, T1.12;AI-логика
FR-10;Система должна создавать список объектов TradePoint на основе JSON  сгенерированного AI;US1.10, T1.1;Модель данных
FR-11;Система должна проверять наличие обязательных полей (owner, address, esr_code) перед созданием экземпляров;US1.11, T1.10;Валидация
FR-12;Обязательные поля при создании ТТ: контрагент, полный адрес, район маршрута торгового представителя;US1.12;Контроль ввода данных
FR-13;Выходной результат создания ТТ должен включать отчётный Excel с полями: контрагент, полный адрес, XCRM GUID, статус, ошибка;US1.13, T1.13;Экспорт
FR-14;"Система должна обновлять сводные таблицы в Excel (аналог ""Обновить данные"")";US2.1, T1.9;Обработка Excel
FR-15;Система должна фильтровать накладные по условиям: SFA = пусто ISA ≠ 0;US2.2;Сверка
FR-16;Система должна копировать обновлённые данные по накладным на отдельный лист для фильтрации;US2.3;Обработка Excel
FR-17;Система должна заливать красным цветом накладные, которых нет в DMS;US2.4, T1.13;Визуализация
FR-18;Система должна оставлять без изменений накладные, которые есть в DMS;US2.5;Сверка
FR-19;"Результат сверки должен сохраняться в Excel с пометками: ""есть в DMS"", ""нет в DMS""";US2.6, T1.13;Экспорт
FR-20;Система должна контролировать по какому направлению деятельности ведётся поиск накладной в DMS;;
FR-21;Система должна разделять накладные, которые есть только на сибирских направлениях и только на уральских направлениях деятельности;;
FR-22;Система должна автоматически определять под каким пользователем ей нужно проверить наличие накладных в DMS (уральский и сибирский клиенты);;
FR-23;В ходе исполнения процесса система должна определять когда ей необходимо авторизоваться под другими данными, чтобы продолжить проверку накладных по оставшимся направлениям деятельности компании;;
FR-24;Процесс сверки должен выполняться в фоне без блокировки GUI;US2.7, T1.4;Производительность
FR-25;Система должна перепривязывать ТТ к новому ESR по XCRM GUID;US3.1, T1.2;Автоматизация
FR-26;При перепривязке система должна удалять только ESR-привязки, не затрагивая MRC-привязки;US3.2, T1.2;Безопасность
FR-27;Система должна гарантированно перепривязывать территорию, даже если старый и новый ESR совпадают;US3.3;Надёжность
FR-28;Данные о ТТ должны храниться в PostgreSQL для быстрого поиска и фильтрации;US4.1, T1.7;Хранение данных
FR-29;Маппинг район → ESR должен храниться в PostgreSQL и синхронизироваться с Excel;US4.3, T1.8;Хранение данных
FR-30;GUI должен содержать иконки на кнопках (загрузка, запуск, чат) без текста;US5.1, T1.11;UX
FR-31;Система должна использовать модель классификации для предсказания атрибутов ТТ на основе истории и контекста;US1.6;AI-логика
